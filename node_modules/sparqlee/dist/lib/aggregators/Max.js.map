{"version":3,"file":"Max.js","sourceRoot":"","sources":["../../../lib/aggregators/Max.ts"],"names":[],"mappings":";;;AACA,6CAAmD;AAKnD,MAAa,GAAI,SAAQ,gCAAmB;IAA5C;;QACU,UAAK,GAA8B,SAAS,CAAC;IAuBvD,CAAC;IArBQ,GAAG,CAAC,IAAc;QACvB,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;YAC5B,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;YAC1C,IAAI,CAAC,KAAK,GAAG,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;SAC5C;aAAM;YACL,MAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;YAC1C,IAAI,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE;gBAC7C,IAAI,CAAC,KAAK,GAAG;oBACX,YAAY,EAAE,SAAS,CAAC,KAAK;oBAC7B,IAAI;iBACL,CAAC;aACH;SACF;IACH,CAAC;IAEM,MAAM;QACX,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;YAC5B,OAAO,GAAG,CAAC,UAAU,EAAE,CAAC;SACzB;QACD,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;IACzB,CAAC;CACF;AAxBD,kBAwBC","sourcesContent":["import type * as RDF from '@rdfjs/types';\nimport { AggregatorComponent } from './Aggregator';\n\ninterface IExtremeState {\n  extremeValue: number; term: RDF.Term;\n}\nexport class Max extends AggregatorComponent {\n  private state: IExtremeState | undefined = undefined;\n\n  public put(term: RDF.Term): void {\n    if (this.state === undefined) {\n      const { value } = this.extractValue(term);\n      this.state = { extremeValue: value, term };\n    } else {\n      const extracted = this.extractValue(term);\n      if (extracted.value > this.state.extremeValue) {\n        this.state = {\n          extremeValue: extracted.value,\n          term,\n        };\n      }\n    }\n  }\n\n  public result(): RDF.Term | undefined {\n    if (this.state === undefined) {\n      return Max.emptyValue();\n    }\n    return this.state.term;\n  }\n}\n"]}